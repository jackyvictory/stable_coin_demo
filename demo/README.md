# Stable Coin - åŠ å¯†è´§å¸æ”¯ä»˜ç³»ç»Ÿ

ä¸€ä¸ªå®Œæ•´çš„åŠ å¯†è´§å¸æ”¯ä»˜è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒå¤šç§ç¨³å®šå¸æ”¯ä»˜ï¼Œé›†æˆ BNB Smart Chain åŒºå—é“¾æŠ€æœ¯ã€‚

## ğŸ“– é¡¹ç›®æ¦‚è¿°

Stable Coin æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ Web3 æ”¯ä»˜ç³»ç»Ÿï¼Œä¸“ä¸ºåŠ å¯†è´§å¸æèµ å’Œæ”¯ä»˜åœºæ™¯è®¾è®¡ã€‚ç³»ç»Ÿé‡‡ç”¨å‰ç«¯ + åŒºå—é“¾çš„æ¶æ„ï¼Œæ— éœ€åç«¯æœåŠ¡å™¨å³å¯å®ç°å®Œæ•´çš„æ”¯ä»˜æµç¨‹ã€‚

### ğŸ¯ è®¾è®¡ç†å¿µ
- **å»ä¸­å¿ƒåŒ–**: ç›´æ¥ä¸åŒºå—é“¾äº¤äº’ï¼Œæ— éœ€ä¸­å¿ƒåŒ–æ”¯ä»˜å¤„ç†å™¨
- **ç”¨æˆ·å‹å¥½**: ç®€æ´ç›´è§‚çš„ç•Œé¢ï¼Œç±»ä¼¼ä¼ ç»Ÿæ”¯ä»˜ä½“éªŒ
- **å®‰å…¨å¯é **: åŸºäºåŒºå—é“¾çš„é€æ˜äº¤æ˜“ï¼Œèµ„é‡‘å®‰å…¨æœ‰ä¿éšœ
- **é«˜åº¦å¯å®šåˆ¶**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºé›†æˆå’Œå®šåˆ¶

### ğŸ—ï¸ æŠ€æœ¯æ ˆ
- **å‰ç«¯**: HTML5 + CSS3 + Vanilla JavaScript
- **åŒºå—é“¾**: Web3.js + BNB Smart Chain
- **éƒ¨ç½²**: Docker + Nginx + Let's Encrypt
- **æ ·å¼**: Chakra UI è®¾è®¡ç³»ç»Ÿ
- **ç›‘æ§**: å®æ—¶åŒºå—é“¾äº¤æ˜“ç›‘æ§

### ğŸ’¡ åº”ç”¨åœºæ™¯
- ğŸ **æ…ˆå–„æèµ **: é€æ˜çš„æ…ˆå–„ææ¬¾å¹³å°
- ğŸ›’ **ç”µå•†æ”¯ä»˜**: æ”¯æŒåŠ å¯†è´§å¸çš„åœ¨çº¿å•†åº—
- ğŸ’° **ä¼—ç­¹å¹³å°**: å»ä¸­å¿ƒåŒ–çš„é¡¹ç›®ä¼—ç­¹
- ğŸ® **æ¸¸æˆå†…è´­**: åŒºå—é“¾æ¸¸æˆçš„é“å…·è´­ä¹°
- ğŸ“± **æ•°å­—æœåŠ¡**: SaaS äº§å“çš„åŠ å¯†è´§å¸è®¢é˜…

## ğŸ“š ç›®å½•

- [âœ¨ æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ğŸš€ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [âš™ï¸ é…ç½®è¯´æ˜](#ï¸-é…ç½®è¯´æ˜)
- [ğŸ“ é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [ğŸ’³ æ”¯ä»˜æµç¨‹](#-æ”¯ä»˜æµç¨‹)
- [ğŸ”— åŒºå—é“¾é›†æˆ](#-åŒºå—é“¾é›†æˆ)
- [ğŸ› ï¸ å¼€å‘æŒ‡å—](#ï¸-å¼€å‘æŒ‡å—)
- [ğŸš€ ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²](#-ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²)
- [ğŸ”§ æ•…éšœæ’é™¤](#-æ•…éšœæ’é™¤)

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¨ ç”¨æˆ·ç•Œé¢
- **ç°ä»£åŒ–è®¾è®¡**: åŸºäº Chakra UI è®¾è®¡ç³»ç»Ÿçš„å“åº”å¼ç•Œé¢
- **å®Œæ•´æ”¯ä»˜æµç¨‹**: äº§å“é€‰æ‹© â†’ æ”¯ä»˜æ–¹å¼ â†’ äºŒç»´ç æ”¯ä»˜ â†’ æˆåŠŸç¡®è®¤
- **å®æ—¶çŠ¶æ€æ›´æ–°**: æ”¯ä»˜çŠ¶æ€å®æ—¶ç›‘æ§å’Œç”¨æˆ·åé¦ˆ
- **å¤šè¯­è¨€æ”¯æŒ**: ä¸­è‹±æ–‡ç•Œé¢æ”¯æŒ

### ğŸ’° æ”¯ä»˜åŠŸèƒ½
- **å¤šå¸ç§æ”¯æŒ**: USDTã€USDCã€USDC.eã€BUSDã€TUSD
- **å›ºå®šæ”¶æ¬¾åœ°å€**: ç»Ÿä¸€çš„æ”¶æ¬¾é’±åŒ…åœ°å€ç®¡ç†
- **å®æ—¶æ±‡ç‡**: ç¾å…ƒå®šä»·ï¼Œè‡ªåŠ¨ä»£å¸æ•°é‡è®¡ç®—
- **æ”¯ä»˜è¶…æ—¶**: 30åˆ†é’Ÿæ”¯ä»˜çª—å£ï¼Œè‡ªåŠ¨è¿‡æœŸå¤„ç†

### ğŸ”— åŒºå—é“¾é›†æˆ
- **BNB Smart Chain**: åŸºäº BSC ä¸»ç½‘çš„ä»£å¸è½¬è´¦ç›‘æ§
- **æ™ºèƒ½åˆçº¦**: ERC-20 ä»£å¸æ ‡å‡†æ”¯æŒ
- **å¤š RPC èŠ‚ç‚¹**: è‡ªåŠ¨æ•…éšœè½¬ç§»å’Œè´Ÿè½½å‡è¡¡
- **äº¤æ˜“ç¡®è®¤**: å®æ—¶åŒºå—é“¾äº¤æ˜“çŠ¶æ€ç›‘æ§

### ğŸ› ï¸ æŠ€æœ¯æ¶æ„
- **æ¨¡å—åŒ–è®¾è®¡**: æ¸…æ™°çš„ä»£ç ç»“æ„å’Œç»„ä»¶åˆ†ç¦»
- **çŠ¶æ€ç®¡ç†**: å®Œæ•´çš„æ”¯ä»˜ä¼šè¯å’ŒçŠ¶æ€ç®¡ç†
- **é”™è¯¯å¤„ç†**: å…¨é¢çš„é”™è¯¯æ•è·å’Œç”¨æˆ·å‹å¥½æç¤º
- **è°ƒè¯•å·¥å…·**: å†…ç½®è°ƒè¯•é¢æ¿å’Œå¼€å‘è€…å·¥å…·

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šDocker Compose éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# è¿›å…¥é¡¹ç›®éƒ¨ç½²ç›®å½•
cd demo/deploy

# å¯åŠ¨åº”ç”¨ï¼ˆåå°è¿è¡Œï¼‰
docker-compose up -d

# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker-compose ps

# è®¿é—®åº”ç”¨
open http://localhost:8080

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f

# åœæ­¢åº”ç”¨
docker-compose down
```

### æ–¹å¼äºŒï¼šDocker å®¹å™¨éƒ¨ç½²

```bash
# è¿›å…¥é¡¹ç›®éƒ¨ç½²ç›®å½•
cd demo/deploy

# æ„å»ºé•œåƒ
docker build -t evo-payment .

# è¿è¡Œå®¹å™¨
docker run -d -p 8080:80 --name evo-payment-app evo-payment

# è®¿é—®åº”ç”¨
open http://localhost:8080

# æŸ¥çœ‹æ—¥å¿—
docker logs -f evo-payment-app

# åœæ­¢å®¹å™¨
docker stop evo-payment-app
docker rm evo-payment-app
```

### æ–¹å¼ä¸‰ï¼šå¼€å‘æ¨¡å¼

ä½¿ç”¨é™æ€æ–‡ä»¶æœåŠ¡å™¨ç›´æ¥è¿è¡Œï¼ˆé€‚åˆå¼€å‘è°ƒè¯•ï¼‰ï¼š

```bash
# è¿›å…¥é¡¹ç›®éƒ¨ç½²ç›®å½•
cd demo

# ä½¿ç”¨ Pythonï¼ˆæ¨èï¼‰
python3 -m http.server 8080

# ä½¿ç”¨ Node.js
npx http-server -p 8080

# ä½¿ç”¨ PHP
php -S localhost:8080

# ç„¶åè®¿é—®
open http://localhost:8080
```

## âš™ï¸ é…ç½®è¯´æ˜

### ä¸»é…ç½®æ–‡ä»¶ `config.js`

```javascript
const CONFIG = {
  // åŒºå—é“¾é…ç½®
  blockchain: {
    rpcUrl: 'https://bsc-dataseed1.binance.org/',
    chainId: 56,                    // BSC ä¸»ç½‘
    confirmations: 3,               // ç¡®è®¤æ•°
    pollingInterval: 5000           // è½®è¯¢é—´éš”ï¼ˆæ¯«ç§’ï¼‰
  },
  
  // æ”¯ä»˜é…ç½®
  payment: {
    receiverAddress: '0xe27577B0e3920cE35f100f66430de0108cb78a04',
    supportedTokens: ['USDT', 'USDC', 'BUSD'],
    paymentTimeout: 30 * 60 * 1000, // 30åˆ†é’Ÿè¶…æ—¶
    qrCodeImage: './images/wallet_qr.jpg'
  },
  
  // ä»£å¸åˆçº¦åœ°å€ï¼ˆBSC ä¸»ç½‘ï¼‰
  tokens: {
    USDT: {
      contract: '0x55d398326f99059fF775485246999027B3197955',
      decimals: 18
    },
    USDC: {
      contract: '0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d',
      decimals: 18
    },
    BUSD: {
      contract: '0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56',
      decimals: 18
    }
  }
};
```

### å…³é”®é…ç½®é¡¹

- **æ”¶æ¬¾åœ°å€**: å›ºå®šçš„ BSC é’±åŒ…åœ°å€ï¼Œæ‰€æœ‰æ”¯ä»˜éƒ½å‘é€åˆ°æ­¤åœ°å€
- **æ”¯æŒä»£å¸**: USDTã€USDCã€USDC.eã€BUSDã€TUSD
- **ç½‘ç»œè®¾ç½®**: BNB Smart Chain ä¸»ç½‘ï¼ˆChain ID: 56ï¼‰
- **è¶…æ—¶è®¾ç½®**: æ”¯ä»˜ä¼šè¯ 30 åˆ†é’Ÿè‡ªåŠ¨è¿‡æœŸ
- **RPC èŠ‚ç‚¹**: å¤šä¸ªå¤‡ç”¨èŠ‚ç‚¹ï¼Œè‡ªåŠ¨æ•…éšœè½¬ç§»

## ğŸ“ é¡¹ç›®ç»“æ„

```
demo/
â”œâ”€â”€ ğŸ“„ æ ¸å¿ƒé¡µé¢ (WebSocket ç‰ˆæœ¬)
â”‚   â”œâ”€â”€ index.html              # é¦–é¡µï¼ˆäº§å“é€‰æ‹©ï¼‰
â”‚   â”œâ”€â”€ payment-ws.html         # æ”¶é“¶å°é¡µé¢ï¼ˆæ”¯ä»˜æ–¹å¼é€‰æ‹©ï¼‰
â”‚   â”œâ”€â”€ qrcode-ws.html         # äºŒç»´ç æ”¯ä»˜é¡µé¢
â”‚   â”œâ”€â”€ success-ws.html        # æ”¯ä»˜æˆåŠŸé¡µé¢
â”‚   â””â”€â”€ test-payment-success.html # æµ‹è¯•é¡µé¢
â”‚
â”œâ”€â”€ âš™ï¸ é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ config.js              # åº”ç”¨ä¸»é…ç½®
â”‚   â””â”€â”€ .dockerignore          # Docker å¿½ç•¥æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸ¨ æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ css/
â”‚       â”œâ”€â”€ main.css           # ä¸»æ ·å¼æ–‡ä»¶
â”‚       â”œâ”€â”€ payment.css        # æ”¯ä»˜é¡µé¢æ ·å¼
â”‚       â”œâ”€â”€ qrcode.css         # äºŒç»´ç é¡µé¢æ ·å¼
â”‚       â””â”€â”€ success.css        # æˆåŠŸé¡µé¢æ ·å¼
â”‚
â”œâ”€â”€ ğŸ’» JavaScript æ¨¡å—
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ main.js            # ä¸»é¡µé¢é€»è¾‘
â”‚       â”œâ”€â”€ payment-ws.js      # æ”¯ä»˜é¡µé¢é€»è¾‘ (WebSocket)
â”‚       â”œâ”€â”€ qrcode-ws.js       # äºŒç»´ç é¡µé¢é€»è¾‘ (WebSocket)
â”‚       â”œâ”€â”€ success-ws.js      # æˆåŠŸé¡µé¢é€»è¾‘ (WebSocket)
â”‚       â”œâ”€â”€ payment-handler-ws.js # æ”¯ä»˜ä¼šè¯ç®¡ç† (WebSocket)
â”‚       â””â”€â”€ blockchain-ws.js   # åŒºå—é“¾é›†æˆ (WebSocket)
â”‚
â”œâ”€â”€ ğŸ–¼ï¸ èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ logo.png           # åº”ç”¨ Logo
â”‚   â”‚   â”œâ”€â”€ avatar.jpg         # ç”¨æˆ·å¤´åƒ
â”‚   â”‚   â”œâ”€â”€ wallet_qr.jpg      # é’±åŒ…äºŒç»´ç 
â”‚   â”‚   â””â”€â”€ donation_bg.png    # èƒŒæ™¯å›¾ç‰‡
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ web3.min.js        # Web3.js åº“
â”‚
â”œâ”€â”€ ğŸ³ éƒ¨ç½²é…ç½®
â”‚   â””â”€â”€ deploy/
â”‚       â”œâ”€â”€ Dockerfile         # Docker é•œåƒæ„å»º
â”‚       â”œâ”€â”€ docker-compose.yml # Docker Compose é…ç½®
â”‚       â”œâ”€â”€ nginx.conf         # Nginx æœåŠ¡å™¨é…ç½®
â”‚       â”œâ”€â”€ docker-entrypoint.sh # å®¹å™¨å¯åŠ¨è„šæœ¬
â”‚       â”œâ”€â”€ deploy.sh          # ä¸»éƒ¨ç½²è„šæœ¬
â”‚       â”œâ”€â”€ manage.sh          # åº”ç”¨ç®¡ç†è„šæœ¬
â”‚       â”œâ”€â”€ cache-manager.sh   # ç¼“å­˜ç®¡ç†è„šæœ¬
â”‚       â””â”€â”€ DEPLOYMENT.md      # è¯¦ç»†éƒ¨ç½²æŒ‡å—
â”‚
â””â”€â”€ ğŸ“‹ æ—¥å¿—å’Œè¯ä¹¦
    â”œâ”€â”€ logs/                  # åº”ç”¨æ—¥å¿—
    â”‚   â”œâ”€â”€ access.log
    â”‚   â””â”€â”€ error.log
    â””â”€â”€ ssl/                   # SSL è¯ä¹¦
        â”œâ”€â”€ cert.pem
        â””â”€â”€ key.pem
```

## ğŸ’³ æ”¯ä»˜æµç¨‹

### 1. äº§å“é€‰æ‹©é¡µé¢ï¼ˆindex.htmlï¼‰
- ğŸ¥œ é€‰æ‹©æèµ äº§å“ï¼ˆèŠ±ç”Ÿ $0.01 - æ°´æœ $3.00ï¼‰
- ğŸ“ æ˜¾ç¤ºæèµ ä¿¡æ¯å’Œå›¢é˜Ÿå¤´åƒ
- ğŸ”˜ ç‚¹å‡» "Pay With Stable Coin" æŒ‰é’®

### 2. æ”¯ä»˜æ–¹å¼é€‰æ‹©é¡µé¢ï¼ˆpayment-ws.htmlï¼‰
- ğŸ’° **é€‰æ‹©ä»£å¸**: USDTã€USDCã€USDC.eã€BUSDã€TUSD
- ğŸŒ **é€‰æ‹©ç½‘ç»œ**: BNB Smart Chainï¼ˆBSCï¼‰
- â° æ˜¾ç¤ºæ”¯ä»˜ ID å’Œè¿‡æœŸæ—¶é—´å€’è®¡æ—¶
- âœ… ç‚¹å‡» "Continue to Payment" è¿›å…¥ä¸‹ä¸€æ­¥

### 3. äºŒç»´ç æ”¯ä»˜é¡µé¢ï¼ˆqrcode-ws.htmlï¼‰
- ğŸ“± æ˜¾ç¤ºé’±åŒ…åœ°å€äºŒç»´ç 
- ğŸ“‹ å¯å¤åˆ¶çš„é’±åŒ…åœ°å€
- ğŸ“Š å®æ—¶æ”¯ä»˜çŠ¶æ€ç›‘æ§
- ğŸ”„ åŒºå—é“¾äº¤æ˜“ç¡®è®¤è¿›åº¦
- ğŸ› ï¸ å†…ç½®è°ƒè¯•å·¥å…·é¢æ¿

### 4. æ”¯ä»˜æˆåŠŸé¡µé¢ï¼ˆsuccess-ws.htmlï¼‰
- âœ… æ”¯ä»˜ç¡®è®¤ä¿¡æ¯
- ğŸ“„ äº¤æ˜“è¯¦æƒ…æ‘˜è¦
- ğŸ”— åŒºå—é“¾æµè§ˆå™¨é“¾æ¥
- ğŸ  è¿”å›é¦–é¡µæˆ–æ–°å»ºæ”¯ä»˜

### æ”¯ä»˜çŠ¶æ€ç®¡ç†
```javascript
const PaymentStatus = {
    PENDING: 'pending',      // ç­‰å¾…ç”¨æˆ·é€‰æ‹©
    WAITING: 'waiting',      // ç­‰å¾…æ”¯ä»˜
    MONITORING: 'monitoring', // ç›‘å¬ä¸­
    CONFIRMED: 'confirmed',   // å·²ç¡®è®¤
    COMPLETED: 'completed',   // å·²å®Œæˆ
    EXPIRED: 'expired',      // å·²è¿‡æœŸ
    FAILED: 'failed'         // æ”¯ä»˜å¤±è´¥
};
```

## ğŸ”— åŒºå—é“¾é›†æˆ

### ç½‘ç»œé…ç½®
- **ä¸»ç½‘**: BNB Smart Chain (Chain ID: 56)
- **æ”¶æ¬¾åœ°å€**: `0xe27577B0e3920cE35f100f66430de0108cb78a04`
- **åŒºå—æµè§ˆå™¨**: https://bscscan.com

### æ”¯æŒçš„ä»£å¸åˆçº¦
```javascript
const TOKENS = {
  USDT: '0x55d398326f99059fF775485246999027B3197955',
  USDC: '0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d', 
  BUSD: '0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56',
  TUSD: '0x40af3827F39D0EAcBF4A168f8D4ee67c121D11c9'
};
```

### RPC èŠ‚ç‚¹é…ç½®
- **ä¸»èŠ‚ç‚¹**: `https://bsc-dataseed1.binance.org/`
- **å¤‡ç”¨èŠ‚ç‚¹**: è‡ªåŠ¨æ•…éšœè½¬ç§»åˆ°å¤šä¸ª BSC RPC ç«¯ç‚¹
- **å¥åº·æ£€æŸ¥**: æ¯ 60 ç§’æ£€æŸ¥ RPC èŠ‚ç‚¹çŠ¶æ€
- **æ™ºèƒ½åˆ‡æ¢**: é‡åˆ°é™æµæˆ–é”™è¯¯è‡ªåŠ¨åˆ‡æ¢èŠ‚ç‚¹

### äº¤æ˜“ç›‘æ§æœºåˆ¶
- **è½®è¯¢é—´éš”**: 5 ç§’æ£€æŸ¥ä¸€æ¬¡æ–°äº¤æ˜“
- **ç¡®è®¤è¦æ±‚**: 1 ä¸ªåŒºå—ç¡®è®¤
- **è¶…æ—¶è®¾ç½®**: 30 åˆ†é’Ÿæ”¯ä»˜çª—å£
- **æ™ºèƒ½å»¶è¿Ÿ**: é¿å… RPC é™æµçš„æ™ºèƒ½è°ƒç”¨é—´éš”
- **é”™è¯¯é‡è¯•**: è‡ªåŠ¨é‡è¯•å’Œé”™è¯¯æ¢å¤æœºåˆ¶

### åŒºå—é“¾ç›‘æ§ç‰¹æ€§
```javascript
// æ™ºèƒ½ RPC è°ƒç”¨ç®¡ç†
- å¤š RPC ç«¯ç‚¹è´Ÿè½½å‡è¡¡
- è‡ªåŠ¨æ•…éšœæ£€æµ‹å’Œåˆ‡æ¢  
- è°ƒç”¨é¢‘ç‡é™åˆ¶å’Œæ™ºèƒ½å»¶è¿Ÿ
- è¿æ¥å¥åº·çŠ¶æ€ç›‘æ§

// äº¤æ˜“ç›‘æ§ä¼˜åŒ–
- å¢é‡åŒºå—æ‰«æ
- Transfer äº‹ä»¶è¿‡æ»¤
- äº¤æ˜“å“ˆå¸ŒéªŒè¯
- ç¡®è®¤æ•°å®æ—¶æ›´æ–°
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘ç¯å¢ƒ

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd demo

# 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
python3 -m http.server 8080

# 3. è®¿é—®åº”ç”¨
open http://localhost:8080
```

### ä»£ç ç»“æ„è¯´æ˜

#### å‰ç«¯æ¶æ„
- **æ¨¡å—åŒ–è®¾è®¡**: æ¯ä¸ªé¡µé¢ç‹¬ç«‹çš„ JS å’Œ CSS æ–‡ä»¶
- **çŠ¶æ€ç®¡ç†**: `PaymentHandler` ç±»ç®¡ç†æ”¯ä»˜ä¼šè¯
- **äº‹ä»¶é©±åŠ¨**: åŸºäºäº‹ä»¶çš„çŠ¶æ€å˜åŒ–é€šçŸ¥
- **é”™è¯¯å¤„ç†**: å…¨é¢çš„é”™è¯¯æ•è·å’Œç”¨æˆ·æç¤º

#### å…³é”®æ¨¡å—

**æ”¯ä»˜å¤„ç†å™¨ (`payment-handler.js`)**
```javascript
// åˆ›å»ºæ”¯ä»˜ä¼šè¯
const session = paymentHandler.createPaymentSession(productInfo);

// æ›´æ–°æ”¯ä»˜çŠ¶æ€  
paymentHandler.updatePaymentSession(paymentId, { status: 'confirmed' });

// é¡µé¢å¯¼èˆªç®¡ç†
paymentHandler.navigateToPage('qr-code', paymentId);
```

**åŒºå—é“¾ç®¡ç†å™¨ (`blockchain.js`)**
```javascript
// åˆå§‹åŒ–è¿æ¥
await blockchainManager.initialize();

// ç›‘æ§äº¤æ˜“
const transfers = await blockchainManager.getLatestTokenTransfers(
  'USDT', receiverAddress, fromBlock
);
```

### è°ƒè¯•å·¥å…·

#### å†…ç½®è°ƒè¯•é¢æ¿
- ğŸ§ª **å¿«é€Ÿæµ‹è¯•**: æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸï¼Œæ— éœ€çœŸå®è½¬è´¦
- â¯ï¸ **è½®è¯¢æ§åˆ¶**: æš‚åœ/æ¢å¤åŒºå—é“¾ç›‘æ§
- ğŸŒ **RPC çŠ¶æ€**: å®æ—¶ RPC è¿æ¥çŠ¶æ€
- ğŸ”§ **è°ƒè¯•æŒ‰é’®**: å„ç§æµ‹è¯•å’Œè¯Šæ–­åŠŸèƒ½

#### å¼€å‘è€…å·¥å…·
```javascript
// æµè§ˆå™¨æ§åˆ¶å°å¯ç”¨çš„å…¨å±€å¯¹è±¡
window.paymentHandler    // æ”¯ä»˜ä¼šè¯ç®¡ç†
window.blockchainManager // åŒºå—é“¾è¿æ¥ç®¡ç†  
window.CONFIG           // åº”ç”¨é…ç½®
window.PaymentStatus    // æ”¯ä»˜çŠ¶æ€æšä¸¾
```

### è‡ªå®šä¹‰é…ç½®

#### ä¿®æ”¹æ”¶æ¬¾åœ°å€
```javascript
// config.js
payment: {
  receiverAddress: '0xä½ çš„é’±åŒ…åœ°å€',
  // ...
}
```

#### æ·»åŠ æ–°ä»£å¸
```javascript
// config.js  
tokens: {
  NEWTOKEN: {
    symbol: 'NEWTOKEN',
    contract: '0xåˆçº¦åœ°å€',
    decimals: 18
  }
}
```

#### è°ƒæ•´ç›‘æ§å‚æ•°
```javascript
// config.js
blockchain: {
  pollingInterval: 3000,  // 3ç§’è½®è¯¢
  confirmations: 1,       // 1ä¸ªç¡®è®¤
  // ...
}
```

### æµ‹è¯•å’Œè°ƒè¯•

#### å¿«é€Ÿæµ‹è¯•æµç¨‹
1. æ‰“å¼€ `qrcode-ws.html` é¡µé¢
2. ç‚¹å‡» "âš™ï¸ Debug" æŒ‰é’®
3. ä½¿ç”¨ "ğŸ§ª å¿«é€Ÿæµ‹è¯•" æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸ
4. éªŒè¯é¡µé¢è·³è½¬å’ŒçŠ¶æ€æ›´æ–°

#### åŒºå—é“¾æµ‹è¯•
1. ä½¿ç”¨è°ƒè¯•é¢æ¿çš„ "ğŸŒ RPC Connection Status"
2. æµ‹è¯•ä¸åŒ RPC ç«¯ç‚¹çš„è¿æ¥çŠ¶æ€
3. éªŒè¯äº¤æ˜“ç›‘æ§å’Œäº‹ä»¶è§£æ

#### æ—¥å¿—è°ƒè¯•
```javascript
// å¯ç”¨è¯¦ç»†æ—¥å¿—
localStorage.setItem('debug', 'true');

// æŸ¥çœ‹æ”¯ä»˜çŠ¶æ€
console.log(paymentHandler.getCurrentPayment());

// æŸ¥çœ‹åŒºå—é“¾çŠ¶æ€
console.log(blockchainManager.getRpcStatus());
```

## ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

### âš¡ ä¼˜åŒ–éƒ¨ç½²æ–¹å¼ (æ¨è)

**æ™ºèƒ½ç¼“å­˜æ„å»ºï¼Œæ˜¾è‘—æå‡éƒ¨ç½²é€Ÿåº¦**

#### ğŸš€ å®Œæ•´éƒ¨ç½² (é¦–æ¬¡éƒ¨ç½²)
ä½¿ç”¨ä¼˜åŒ–çš„å¤šé˜¶æ®µæ„å»ºï¼Œåˆ›å»ºåŸºç¡€é•œåƒç¼“å­˜ï¼š
```bash
./demo/deploy-complete.sh <user@host> <domain> <ssh-key> <email>
```
**ç¤ºä¾‹ï¼š**
```bash
./demo/deploy-complete.sh ubuntu@18.141.172.113 demo.ctbz.xyz ~/.ssh/key.pem admin@example.com
```

**é¦–æ¬¡éƒ¨ç½²æµç¨‹ï¼š**
1. âœ¨ æ™ºèƒ½æ¸…ç†ç¯å¢ƒ
2. ğŸ”¨ æ„å»ºåŸºç¡€é•œåƒç¼“å­˜ (åŒ…å«nginxã€å·¥å…·ç­‰)
3. ğŸ“¦ æ„å»ºåº”ç”¨é•œåƒ (ä»…é¡¹ç›®æ–‡ä»¶)
4. ğŸ› ï¸ å‡†å¤‡è¿œç¨‹ç¯å¢ƒ
5. ğŸŒ éªŒè¯ç½‘ç»œè¿é€šæ€§
6. ğŸ”’ ç”³è¯·Let's Encrypt SSLè¯ä¹¦
7. ğŸš€ å¯åŠ¨HTTPSæœåŠ¡
8. âœ… å¥åº·æ£€æŸ¥å’ŒéªŒè¯

#### âš¡ å¿«é€Ÿæ›´æ–° (åç»­éƒ¨ç½²)
åˆ©ç”¨ç¼“å­˜å¿«é€Ÿæ›´æ–°åº”ç”¨ä»£ç ï¼Œæ„å»ºæ—¶é—´å‡å°‘80%+ï¼š
```bash
./demo/deploy-quick.sh <user@host> <domain> <ssh-key>
```
**ç¤ºä¾‹ï¼š**
```bash
./demo/deploy-quick.sh ubuntu@18.141.172.113 demo.ctbz.xyz ~/.ssh/key.pem
```

**å¿«é€Ÿæ›´æ–°æµç¨‹ï¼š**
1. âš¡ åˆ©ç”¨åŸºç¡€é•œåƒç¼“å­˜å¿«é€Ÿæ„å»º (ä»…10-30ç§’)
2. ğŸ“¤ å¿«é€Ÿæ¨é€åº”ç”¨é•œåƒ
3. ğŸ”„ é›¶åœæœºæ›´æ–°æœåŠ¡
4. âœ… å¥åº·æ£€æŸ¥

#### ğŸ”§ ç¼“å­˜ç®¡ç†
ç®¡ç†Dockeré•œåƒç¼“å­˜ï¼Œä¼˜åŒ–å­˜å‚¨ç©ºé—´ï¼š
```bash
./demo/cache-manager.sh status    # æŸ¥çœ‹ç¼“å­˜çŠ¶æ€
./demo/cache-manager.sh clean     # æ¸…ç†æ—§ç‰ˆæœ¬ (ä¿ç•™ç¼“å­˜)
./demo/cache-manager.sh rebuild   # é‡å»ºåŸºç¡€é•œåƒç¼“å­˜
./demo/cache-manager.sh size      # æ˜¾ç¤ºé•œåƒå¤§å°ç»Ÿè®¡
```

**æ€§èƒ½å¯¹æ¯”ï¼š**
- ğŸŒ ä¼ ç»Ÿéƒ¨ç½²: 5-10åˆ†é’Ÿ (æ¯æ¬¡ä¸‹è½½åŸºç¡€ç»„ä»¶)
- âš¡ ä¼˜åŒ–éƒ¨ç½²: é¦–æ¬¡3-5åˆ†é’Ÿï¼Œåç»­1-2åˆ†é’Ÿ
- ğŸ’¾ å­˜å‚¨ä¼˜åŒ–: åˆ†å±‚ç¼“å­˜ï¼Œå‡å°‘é‡å¤ä¸‹è½½

## AWS EC2 éƒ¨ç½²

### ğŸš€ æ–¹å¼1: ç»ˆæä¸€é”®éƒ¨ç½² (æ¨è)

**æ™ºèƒ½æ£€æµ‹ï¼Œè‡ªåŠ¨é…ç½®SSLï¼Œä¸€é”®æå®šæ‰€æœ‰** - çœŸæ­£çš„é›¶é…ç½®éƒ¨ç½²ï¼š

```bash
# ä¸€æ¡å‘½ä»¤å®Œæˆæ‰€æœ‰éƒ¨ç½² (åŒ…å«SSLè¯ä¹¦è‡ªåŠ¨ç”Ÿæˆ)
./deploy-ultimate.sh ubuntu@your-ec2-ip your-domain.com ~/.ssh/your-key.pem your-email@example.com

# æˆ–è€…ä»…HTTPæ¨¡å¼
./deploy-ultimate.sh ubuntu@your-ec2-ip your-domain.com ~/.ssh/your-key.pem

# å°±è¿™ä¹ˆç®€å•ï¼è‡ªåŠ¨å®Œæˆï¼š
# - ç¯å¢ƒé¢„æ£€æŸ¥ (åŸŸåè§£æã€SSHè¿æ¥)
# - æœ¬åœ°æ„å»ºä¸€ä½“åŒ–é•œåƒ
# - æ¨é€é•œåƒåˆ°è¿œç¨‹æœåŠ¡å™¨
# - è‡ªåŠ¨å®‰è£…å¿…è¦ä¾èµ– (Docker, certbotç­‰)
# - è‡ªåŠ¨ç”ŸæˆLet's Encrypt SSLè¯ä¹¦
# - æ™ºèƒ½å¯åŠ¨åº”ç”¨ (è‡ªåŠ¨é€‰æ‹©HTTP/HTTPS)
# - è®¾ç½®è¯ä¹¦è‡ªåŠ¨ç»­æœŸ
```

**ğŸ¯ æ™ºèƒ½ç‰¹æ€§:**
- âœ… è‡ªåŠ¨æ£€æµ‹åŸŸåè§£æ
- âœ… è‡ªåŠ¨å®‰è£…å¿…è¦ä¾èµ–
- âœ… è‡ªåŠ¨ç”ŸæˆSSLè¯ä¹¦ (Let's Encrypt)
- âœ… è‡ªåŠ¨é€‰æ‹©HTTP/HTTPSé…ç½®
- âœ… è‡ªåŠ¨è®¾ç½®è¯ä¹¦ç»­æœŸ
- âœ… æ™ºèƒ½å¥åº·æ£€æŸ¥å’ŒçŠ¶æ€ç›‘æ§

### æ–¹å¼2: ä¸€ä½“åŒ–é•œåƒéƒ¨ç½²

**ä¸€ä¸ªé•œåƒæå®šä¸€åˆ‡** - åº”ç”¨ä»£ç ã€é…ç½®æ–‡ä»¶ã€ç®¡ç†è„šæœ¬å…¨éƒ¨æ‰“åŒ…åˆ°å•ä¸ªé•œåƒï¼š

```bash
# åŸºç¡€ä¸€é”®éƒ¨ç½² (éœ€è¦æ‰‹åŠ¨é…ç½®SSL)
./deploy-simple.sh ubuntu@your-ec2-ip your-domain.com ~/.ssh/your-key.pem

# æˆ–åŒ…å«SSLè‡ªåŠ¨ç”Ÿæˆ
./deploy-auto-ssl.sh ubuntu@your-ec2-ip your-domain.com ~/.ssh/your-key.pem your-email@example.com
```

**ç‰¹æ€§:**
- âœ… æç®€éƒ¨ç½²æµç¨‹
- âœ… æ— éœ€é…ç½®æ–‡ä»¶ç®¡ç†
- âœ… å¯é€‰SSLè‡ªåŠ¨ç”Ÿæˆ
- âœ… æ™ºèƒ½å¯åŠ¨è„šæœ¬

### æ–¹å¼2: åˆ†ç¦»é…ç½®éƒ¨ç½²

æœ¬åœ°æ„å»ºé•œåƒå¹¶æ¨é€åˆ°è¿œç¨‹ä¸»æœºï¼š

```bash
# å®Œæ•´éƒ¨ç½²æµç¨‹
./deploy-to-remote.sh ubuntu@your-ec2-ip your-domain.com ~/.ssh/your-key.pem your-email@example.com

# æˆ–åˆ†æ­¥éª¤éƒ¨ç½²
./build-and-push.sh ubuntu@your-ec2-ip ~/.ssh/your-key.pem
ssh -i ~/.ssh/your-key.pem ubuntu@your-ec2-ip
cd /opt/evo-payment
./deploy-remote.sh your-domain.com
```

### æ–¹å¼3: ä¼ ç»Ÿä¸Šä¼ éƒ¨ç½²

ä¸Šä¼ é¡¹ç›®æ–‡ä»¶åˆ°æœåŠ¡å™¨ååœ¨æœåŠ¡å™¨ä¸Šæ„å»ºï¼š

```bash
# ä¸Šä¼ é¡¹ç›®åˆ° EC2
./upload-to-ec2.sh ubuntu@your-ec2-ip ~/.ssh/your-key.pem

# SSH è¿æ¥åˆ° EC2
ssh -i ~/.ssh/your-key.pem ubuntu@your-ec2-ip
cd /opt/evo-payment

# å‡†å¤‡ç¯å¢ƒ
./prepare-ec2.sh

# é‡æ–°ç™»å½•ä½¿ Docker æƒé™ç”Ÿæ•ˆ
exit && ssh -i ~/.ssh/your-key.pem ubuntu@your-ec2-ip
cd /opt/evo-payment

# è¿è¡Œå¿«é€Ÿè®¾ç½®å‘å¯¼
./quick-setup.sh
```

### æ‰‹åŠ¨éƒ¨ç½²

#### 1. ç¯å¢ƒå‡†å¤‡
```bash
./prepare-ec2.sh  # å®‰è£… Docker, Docker Compose ç­‰
```

#### 2. SSL è¯ä¹¦é…ç½® (å¯é€‰)

**Let's Encrypt å…è´¹è¯ä¹¦ (æ¨è):**
```bash
./setup-ssl.sh --letsencrypt your-domain.com your-email@example.com
```

**ä½¿ç”¨ç°æœ‰è¯ä¹¦:**
```bash
./setup-ssl.sh /path/to/cert.pem /path/to/key.pem
```

#### 3. éƒ¨ç½²åº”ç”¨
```bash
./deploy-aws.sh your-domain.com
```

#### 4. ç›‘æ§å’Œç®¡ç†
```bash
./monitor.sh status    # æŸ¥çœ‹çŠ¶æ€
./monitor.sh logs      # æŸ¥çœ‹æ—¥å¿—
./monitor.sh restart   # é‡å¯æœåŠ¡
```

### è¯ä¹¦ç®¡ç†

**Let's Encrypt è¯ä¹¦è‡ªåŠ¨ç»­æœŸ:**
- éƒ¨ç½²æ—¶è‡ªåŠ¨è®¾ç½® cron ä»»åŠ¡
- æ‰‹åŠ¨ç»­æœŸ: `./renew-ssl.sh`

### ç”Ÿäº§ç¯å¢ƒç‰¹æ€§

- Nginx ä¼˜åŒ–é…ç½® (Gzip, ç¼“å­˜, å®‰å…¨å¤´éƒ¨)
- HTTPS æ”¯æŒå’Œè‡ªåŠ¨é‡å®šå‘
- Let's Encrypt è¯ä¹¦è‡ªåŠ¨ç»­æœŸ
- å¥åº·æ£€æŸ¥å’Œç›‘æ§
- æ—¥å¿—ç®¡ç†å’Œè½®è½¬
- ä¸€é”®éƒ¨ç½²å’Œç®¡ç†è„šæœ¬

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æ”¯ä»˜ç›‘æ§ä¸å·¥ä½œ
**ç—‡çŠ¶**: äºŒç»´ç é¡µé¢æ— æ³•æ£€æµ‹åˆ°æ”¯ä»˜
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ RPC è¿æ¥çŠ¶æ€
æ‰“å¼€è°ƒè¯•é¢æ¿ â†’ "ğŸŒ RPC Connection Status"

# æµ‹è¯•åŒºå—é“¾è¿æ¥
ç‚¹å‡» "ğŸ”„ Refresh RPC Status"

# åˆ‡æ¢ RPC èŠ‚ç‚¹
ç‚¹å‡» "ğŸ”„ Switch RPC"
```

#### 2. Docker å®¹å™¨å¯åŠ¨å¤±è´¥
**ç—‡çŠ¶**: `docker-compose up` æŠ¥é”™
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :8080
lsof -i :8443

# æ¸…ç†æ—§å®¹å™¨
docker-compose down
docker system prune -f

# é‡æ–°æ„å»º
docker-compose build --no-cache
docker-compose up -d
```

#### 3. SSL è¯ä¹¦é—®é¢˜
**ç—‡çŠ¶**: HTTPS è®¿é—®å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥è¯ä¹¦çŠ¶æ€
cd demo
./deploy/manage.sh ssl-check

# æ‰‹åŠ¨ç»­æœŸè¯ä¹¦
./deploy/manage.sh ssl-renew

# é‡å¯æœåŠ¡
./deploy/manage.sh restart
```

#### 4. åŒºå—é“¾ RPC é™æµ
**ç—‡çŠ¶**: é¢‘ç¹å‡ºç° "rate limit" é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**:
- ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨ RPC èŠ‚ç‚¹
- è°ƒæ•´ `config.js` ä¸­çš„ `pollingInterval` å¢åŠ é—´éš”
- ä½¿ç”¨è°ƒè¯•é¢æ¿æš‚åœç›‘æ§ï¼Œæ‰‹åŠ¨åˆ·æ–°

### å¼€å‘ç¯å¢ƒæ£€æŸ¥æ¸…å•

- [ ] **Docker**: ç¡®ä¿ Docker å’Œ Docker Compose å·²å®‰è£…
- [ ] **ç«¯å£**: ç¡®ä¿ 8080 å’Œ 8443 ç«¯å£å¯ç”¨
- [ ] **ç½‘ç»œ**: ç¡®ä¿å¯ä»¥è®¿é—® BSC RPC èŠ‚ç‚¹
- [ ] **æµè§ˆå™¨**: ä½¿ç”¨ç°ä»£æµè§ˆå™¨ï¼Œå¯ç”¨ JavaScript
- [ ] **HTTPS**: ç”Ÿäº§ç¯å¢ƒéœ€è¦æœ‰æ•ˆçš„ SSL è¯ä¹¦

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### å‰ç«¯ä¼˜åŒ–
- å¯ç”¨æµè§ˆå™¨ç¼“å­˜
- å‹ç¼©é™æ€èµ„æº
- ä½¿ç”¨ CDN åŠ é€Ÿ

#### åŒºå—é“¾ä¼˜åŒ–  
- åˆç†è®¾ç½®è½®è¯¢é—´éš”
- ä½¿ç”¨å¤šä¸ª RPC ç«¯ç‚¹
- å®æ–½æ™ºèƒ½é‡è¯•æœºåˆ¶

#### æœåŠ¡å™¨ä¼˜åŒ–
- é…ç½® Nginx ç¼“å­˜
- å¯ç”¨ Gzip å‹ç¼©
- è®¾ç½®é€‚å½“çš„å®‰å…¨å¤´éƒ¨

### ç›‘æ§å’Œæ—¥å¿—

#### åº”ç”¨æ—¥å¿—
```bash
# Docker æ—¥å¿—
docker-compose logs -f

# Nginx è®¿é—®æ—¥å¿—
tail -f logs/access.log

# Nginx é”™è¯¯æ—¥å¿—  
tail -f logs/error.log
```

#### åŒºå—é“¾ç›‘æ§
```bash
# åœ¨æµè§ˆå™¨æ§åˆ¶å°
console.log(blockchainManager.getRpcStatus());
console.log(paymentHandler.getPaymentStats());
```

### æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
1. **é”™è¯¯æè¿°**: è¯¦ç»†çš„é”™è¯¯ç°è±¡å’Œé‡ç°æ­¥éª¤
2. **ç¯å¢ƒä¿¡æ¯**: æ“ä½œç³»ç»Ÿã€æµè§ˆå™¨ç‰ˆæœ¬ã€Docker ç‰ˆæœ¬
3. **æ—¥å¿—ä¿¡æ¯**: ç›¸å…³çš„é”™è¯¯æ—¥å¿—å’Œæ§åˆ¶å°è¾“å‡º
4. **é…ç½®ä¿¡æ¯**: `config.js` ä¸­çš„ç›¸å…³é…ç½®ï¼ˆéšè—æ•æ„Ÿä¿¡æ¯ï¼‰

### è”ç³»æ–¹å¼
- ğŸ“§ æŠ€æœ¯æ”¯æŒ: [æŠ€æœ¯æ”¯æŒé‚®ç®±]
- ğŸ“– æ–‡æ¡£: æŸ¥çœ‹ `deploy/DEPLOYMENT.md` è·å–è¯¦ç»†éƒ¨ç½²æŒ‡å—
- ğŸ› é—®é¢˜åé¦ˆ: æäº¤ GitHub Issue